<form class="" [formGroup]="form" (submit)="submit()">
    <div class="text-center mb-3">
        <h3 class="fw-bold text-primary">Đăng ký</h3>
    </div>
    <div class="mb-3">
        <label for="" class="form-label required">Họ và tên</label>
        <input
            type="text"
            class="form-control"
            formControlName="name"
            placeholder="VD: Nguyễn Văn A"
            [ngClass]="{
            'is-invalid': controls['name'].invalid,
            'is-valid': controls['name'].valid,
          }"
        />
        <app-error-message-form
            [control]="controls['name']"
            [message]="'Bạn chưa nhập tên!'"
            [validation]="'required'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['name']"
            [message]="'Tên phải tối thiểu 6 ký tự!'"
            [validation]="'minlength'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['name']"
            [message]="'Tên không được quá 50 ký tự!'"
            [validation]="'maxlength'"
        ></app-error-message-form>
    </div>
    <div class="mb-3">
        <label for="" class="form-label required">Tài khoản</label>
        <input
            type="text"
            class="form-control"
            formControlName="account"
            placeholder="VD: abc@gmail.com"
            [ngClass]="{
            'is-invalid': controls['account'].invalid,
            'is-valid': controls['account'].valid,
          }"
        />
        <app-error-message-form
            [control]="controls['account']"
            [message]="'Bạn chưa nhập tài khoản!'"
            [validation]="'required'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['account']"
            [message]="'Tài khoản phải tối thiểu 6 ký tự!'"
            [validation]="'minlength'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['account']"
            [message]="'Tài khoản không được quá 50 ký tự!'"
            [validation]="'maxlength'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['account']"
            [message]="'Tài khoản phải là email!'"
            [validation]="'email'"
        ></app-error-message-form>
    </div>
    <div class="mb-3">
        <label for="" class="form-label required">Mật khẩu</label>
        <input
            type="password"
            class="form-control"
            formControlName="password"
            placeholder="******"
            [ngClass]="{
            'is-invalid': controls['password'].invalid,
            'is-valid': controls['password'].valid,
          }"
        />
        <app-error-message-form
            [control]="controls['password']"
            [message]="'Bạn chưa nhập mật khẩu!'"
            [validation]="'required'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['password']"
            [message]="'Mật khẩu phải tối thiểu 6 ký tự!'"
            [validation]="'minlength'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['password']"
            [message]="'Mật khẩu không được quá 50 ký tự!'"
            [validation]="'maxlength'"
        ></app-error-message-form>
    </div>
    <div class="mb-3">
        <label for="" class="form-label required">Nhập lại mật khẩu</label>
        <input
            type="password"
            class="form-control"
            formControlName="cPassword"
            placeholder="******"
            [ngClass]="{
            'is-invalid': controls['cPassword'].invalid,
            'is-valid': controls['cPassword'].valid,
          }"
        />
        <app-error-message-form
            [control]="controls['cPassword']"
            [message]="'Bạn chưa nhập lại mật khẩu!'"
            [validation]="'required'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['cPassword']"
            [message]="'Mật khẩu phải tối thiểu 6 ký tự!'"
            [validation]="'minlength'"
        ></app-error-message-form>
        <app-error-message-form
            [control]="controls['cPassword']"
            [message]="'Mật khẩu không được quá 50 ký tự!'"
            [validation]="'maxlength'"
        ></app-error-message-form>
        <div class="text-danger" *ngIf="controls['cPassword'].errors && controls['cPassword'].errors.ConfirmPassword">
            <span class="alert p-0 mt-2">Nhập lại mật khẩu không chính xác</span>
        </div>
    </div>
    <div class="mb-3">
        <label for="" class="form-label required">Sinh nhật</label>
        <input
            formControlName="birthday"
            class="form-control"
            placement="top"
            placeholder="Ấn để chọn ngày"
            [bsConfig]="{ startView: 'year' }"
            bsDatepicker
            [ngClass]="{
                'is-invalid': controls['birthday'].invalid,
                'is-valid': controls['birthday'].valid,
              }"
        />
        <app-error-message-form
            [control]="controls['birthday']"
            [message]="'Bạn chưa nhập lại mật khẩu!'"
            [validation]="'required'"
        ></app-error-message-form>
    </div>
    <div class="mb-4 text-center">
        <span
            >Bạn đã có tài khoản?
            <a routerLink="/auth/login" class="text-decoration-none">Đăng nhập</a>
        </span>
    </div>
    <div class="text-center">
        <button type="submit" class="btn btn-primary text-white fw-bold" style="width: 180px" [disabled]="form.invalid">
            <span *ngIf="!(isLoading$ | async)">Đăng ký</span>
            <app-loading [isLoading$]="isLoading$" [text]="'Đang đăng nhập'"></app-loading>
        </button>
    </div>
</form>
